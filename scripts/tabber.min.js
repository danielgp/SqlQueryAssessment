function tabberObj(t){var e;this.div=null,this.classMain="tabber",this.classMainLive="tabberlive",this.classTab="tabbertab",this.classTabDefault="tabbertabdefault",this.classNav="tabbernav",this.classTabHide="tabbertabhide",this.classNavActive="tabberactive",this.titleElements=["h2","h3","h4","h5","h6"],this.titleElementsStripHTML=!0,this.removeTitle=!0,this.addLinkId=!1,this.linkIdFormat="<tabberid>nav<tabnumberone>";for(e in t)this[e]=t[e];this.REclassMain=new RegExp("\\b"+this.classMain+"\\b","gi"),this.REclassMainLive=new RegExp("\\b"+this.classMainLive+"\\b","gi"),this.REclassTab=new RegExp("\\b"+this.classTab+"\\b","gi"),this.REclassTabDefault=new RegExp("\\b"+this.classTabDefault+"\\b","gi"),this.REclassTabHide=new RegExp("\\b"+this.classTabHide+"\\b","gi"),this.tabs=new Array,this.div&&(this.init(this.div),this.div=null)}function tabberAutomatic(t){var e,i,a;for(t||(t={}),e=new tabberObj(t),i=document.getElementsByTagName("div"),a=0;a<i.length;a++)i[a].className&&i[a].className.match(e.REclassMain)&&(t.div=i[a],i[a].tabber=new tabberObj(t));return this}function tabberAutomaticOnLoad(t){var e;t||(t={}),e=window.onload,window.onload="function"!=typeof window.onload?function(){tabberAutomatic(t)}:function(){e(),tabberAutomatic(t)}}tabberObj.prototype.init=function(t){var e,i,a,s,n,r,l,o,c,b=0;if(!document.getElementsByTagName)return!1;for(t.id&&(this.id=t.id),this.tabs.length=0,e=t.childNodes,i=0;i<e.length;i++)e[i].className&&e[i].className.match(this.REclassTab)&&(s=new Object,s.div=e[i],this.tabs[this.tabs.length]=s,e[i].className.match(this.REclassTabDefault)&&(b=this.tabs.length-1));for(n=document.createElement("ul"),n.className=this.classNav,i=0;i<this.tabs.length;i++){if(s=this.tabs[i],s.headingText=s.div.title,this.removeTitle&&(s.div.title=""),!s.headingText)for(a=0;a<this.titleElements.length;a++)if(c=s.div.getElementsByTagName(this.titleElements[a])[0]){s.headingText=c.innerHTML,this.titleElementsStripHTML&&(s.headingText.replace(/<br>/gi," "),s.headingText=s.headingText.replace(/<[^>]+>/g,""));break}s.headingText||(s.headingText=i+1),r=document.createElement("li"),s.li=r,l=document.createElement("a"),l.appendChild(document.createTextNode(s.headingText)),l.href="javascript:void(null);",l.title=s.headingText,l.onclick=this.navClick,l.tabber=this,l.tabberIndex=i,this.addLinkId&&this.linkIdFormat&&(o=this.linkIdFormat,o=o.replace(/<tabberid>/gi,this.id),o=o.replace(/<tabnumberzero>/gi,i),o=o.replace(/<tabnumberone>/gi,i+1),o=o.replace(/<tabtitle>/gi,s.headingText.replace(/[^a-zA-Z0-9\-]/gi,"")),l.id=o),r.appendChild(l),n.appendChild(r)}return t.insertBefore(n,t.firstChild),t.className=t.className.replace(this.REclassMain,this.classMainLive),this.tabShow(b),"function"==typeof this.onLoad&&this.onLoad({tabber:this}),this},tabberObj.prototype.navClick=function(t){var e,i,a,s,n;return i=this,i.tabber?(a=i.tabber,s=i.tabberIndex,i.blur(),"function"==typeof a.onClick&&(n={tabber:a,index:s,event:t},t||(n.event=window.event),e=a.onClick(n),e===!1)?!1:(a.tabShow(s),!1)):!1},tabberObj.prototype.tabHideAll=function(){var t;for(t=0;t<this.tabs.length;t++)this.tabHide(t)},tabberObj.prototype.tabHide=function(t){var e;return this.tabs[t]?(e=this.tabs[t].div,e.className.match(this.REclassTabHide)||(e.className+=" "+this.classTabHide),this.navClearActive(t),this):!1},tabberObj.prototype.tabShow=function(t){var e;return this.tabs[t]?(this.tabHideAll(),e=this.tabs[t].div,e.className=e.className.replace(this.REclassTabHide,""),this.navSetActive(t),"function"==typeof this.onTabDisplay&&this.onTabDisplay({tabber:this,index:t}),this):!1},tabberObj.prototype.navSetActive=function(t){return this.tabs[t].li.className=this.classNavActive,this},tabberObj.prototype.navClearActive=function(t){return this.tabs[t].li.className="",this},"undefined"==typeof tabberOptions?tabberAutomaticOnLoad():tabberOptions.manualStartup||tabberAutomaticOnLoad(tabberOptions);
